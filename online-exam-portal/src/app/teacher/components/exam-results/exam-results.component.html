<div class="container mt-4">


  <div class="row mb-4">
    <div class="col-12">
      <h2 class="mb-2"><i class="bi bi-graph-up me-2"></i>Exam Results</h2>
      <app-loading-spinner *ngIf="loading"></app-loading-spinner>
      <app-error-alert *ngIf="error" [message]="error"></app-error-alert>
    </div>
    <p class="text-muted">This page provides an overview of the exam results for all students.</p>
  </div>



  <!-- Quick Actions -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-header bg-white py-3">
          <h5 class="mb-0"><i class="bi bi-lightning-charge me-2"></i>Quick Actions</h5>
        </div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-3">
              <a routerLink="/teacher" class="btn btn-success w-100 d-flex align-items-center justify-content-center">
                <i class="bi bi-question-circle me-2"></i>Dashboard
              </a>
            </div>
            <!-- <div class="col-md-3">
                      <a routerLink="/teacher/exam-management/create" class="btn btn-primary w-100 d-flex align-items-center justify-content-center">
                        <i class="bi bi-plus-circle me-2"></i>Create New Exam
                      </a>
                    </div> -->
            <div class="col-md-3">
              <a routerLink="/teacher/exam-management"
                class="btn btn-secondary w-100 d-flex align-items-center justify-content-center">
                <i class="bi bi-gear me-2"></i>Manage Exams
              </a>
            </div>
            <div class="col-md-3">
              <a routerLink="/teacher/exam-results"
                class="btn btn-info w-100 d-flex align-items-center justify-content-center">
                <i class="bi bi-graph-up me-2"></i>View Results
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>

  <table class="table table-striped" *ngIf="!loading && !error">
    <thead>
      <tr>
        <th>Student</th>
        <th>Total Marks</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let result of results">
        <td>{{ result.student_name }}</td>
        <td>{{ result.total_marks_awarded }} / {{ result.total_marks_possible }}</td>
        <td>
          <ul>
            <li *ngFor="let detail of result.details">
              {{ detail.question_text }}: {{ detail.marks_awarded || 'Not Evaluated' }} / {{ detail.marks_possible }}
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div>